<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Focus Pro 3.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –ü—Ä–∏–º—É—Å–æ–≤–∞ —Ç–µ–º–Ω–∞ —Ç–µ–º–∞ */
        body { background-color: #020617 !important; color: #f8fafc !important; font-family: sans-serif; }
        .card { background: #1e293b; border-radius: 1.5rem; padding: 1.5rem; border: 1px solid #334155; }
        
        /* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è –≤–∏–±–æ—Ä—É –¥–∞—Ç–∏ */
        input[type="datetime-local"] {
            background: #334155;
            color: #38bdf8;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-weight: bold;
            width: 100%;
            max-width: 250px;
            text-align: center;
        }
        
        .timer-big { font-size: 4rem; line-height: 1; font-weight: 900; color: #38bdf8; letter-spacing: -2px; }
        [contenteditable] { border-bottom: 1px dashed #475569; padding-bottom: 2px; outline: none; }
        [contenteditable]:focus { border-bottom-color: #38bdf8; color: #38bdf8; }
    </style>
</head>
<body class="p-6">

    <div class="text-center mb-10">
        <div id="now" class="text-gray-500 text-xs tracking-widest mb-6">00:00:00</div>
        
        <h1 id="main-goal" contenteditable="true" class="text-3xl font-bold mb-8 leading-tight px-4 text-white">
            –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å —Ç—É—Ç, —â–æ–± –≤–ø–∏—Å–∞—Ç–∏ –≥–æ–ª–æ–≤–Ω—É —Ü—ñ–ª—å
        </h1>

        <div class="space-y-3">
            <p class="text-[10px] text-gray-500 uppercase tracking-[0.2em] font-black">–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–µ–¥–ª–∞–π–Ω:</p>
            <input type="datetime-local" id="picker">
        </div>

        <div class="mt-10">
            <div id="timer" class="timer-big">00:00:00</div>
            <p id="status" class="text-[10px] text-gray-400 uppercase tracking-widest mt-2">–∑–∞–ª–∏—à–∏–ª–æ—Å—è —á–∞—Å—É</p>
        </div>
    </div>

    <div class="space-y-4">
        <div class="card">
            <h2 class="text-[10px] font-black text-blue-400 uppercase tracking-widest mb-4">üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –¥–Ω—è</h2>
            <div id="tasks" contenteditable="true" class="text-lg text-slate-300 whitespace-pre-wrap leading-relaxed">1. 
2. </div>
        </div>

        <div class="card border-l-4 border-amber-500">
            <h2 class="text-[10px] font-black text-amber-500 uppercase tracking-widest mb-2">‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ</h2>
            <div id="notes" contenteditable="true" class="text-sm text-slate-400 italic">–î–æ–¥–∞–π—Ç–µ –≤–∞–∂–ª–∏–≤—ñ –¥–µ—Ç–∞–ª—ñ —Ç—É—Ç...</div>
        </div>
    </div>

    <script>
        const picker = document.getElementById('picker');
        const timer = document.getElementById('timer');
        const status = document.getElementById('status');

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞—Ç–∏ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º +1 –≥–æ–¥–∏–Ω–∞)
        if (!localStorage.getItem('picker')) {
            const d = new Date();
            d.setHours(d.getHours() + 1);
            picker.value = d.toISOString().slice(0, 16);
        }

        function refresh() {
            // –ü–æ—Ç–æ—á–Ω–∏–π —á–∞—Å
            document.getElementById('now').innerText = new Date().toLocaleTimeString('uk-UA');

            // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –¥–µ–¥–ª–∞–π–Ω—É
            const target = new Date(picker.value).getTime();
            const diff = target - new Date().getTime();

            if (diff <= 0) {
                timer.innerText = "00:00:00";
                timer.style.color = "#ef4444";
                status.innerText = "–ß–ê–° –í–ò–ô–®–û–í";
            } else {
                timer.style.color = "#38bdf8";
                status.innerText = "–∑–∞–ª–∏—à–∏–ª–æ—Å—è —á–∞—Å—É";
                const h = Math.floor(diff / 3600000);
                const m = Math.floor((diff % 3600000) / 60000);
                const s = Math.floor((diff % 60000) / 1000);
                timer.innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            }
        }

        setInterval(refresh, 1000);

        // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
        const store = ['main-goal', 'picker', 'tasks', 'notes'];
        store.forEach(id => {
            const el = document.getElementById(id);
            if (localStorage.getItem(id)) {
                if (id === 'picker') el.value = localStorage.getItem(id);
                else el.innerText = localStorage.getItem(id);
            }
            el.addEventListener('input', () => {
                localStorage.setItem(id, id === 'picker' ? el.value : el.innerText);
            });
        });
    </script>
</body>
</html>
